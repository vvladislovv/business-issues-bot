from dataclasses import dataclass
from typing import List, Optional, Dict


@dataclass
class Question:
    text: str
    field_name: str
    options: Optional[List[str]] = None
    next_question: Optional[str] = None
    is_last: bool = False


QUESTIONS: Dict[str, Question] = {
    # Block 1: Diagnostics
    "region": Question(
        text="–í –∫–∞–∫–æ–º —Ç—ã —Ä–µ–≥–∏–æ–Ω–µ?", field_name="region", next_question="has_business"
    ),
    "has_business": Question(
        text="–ï—Å—Ç—å –ª–∏ —É —Ç–µ–±—è –ò–ü/–°–∞–º–æ–∑–∞–Ω—è—Ç–æ—Å—Ç—å?",
        field_name="has_business",
        options=["–î–∞", "–ù–µ—Ç, –Ω–æ –ø–ª–∞–Ω–∏—Ä—É—é", "–ù–µ—Ç –∏ –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é"],
        next_question="is_under_25",
    ),
    "is_under_25": Question(
        text="–¢—ã –º–ª–∞–¥—à–µ 25 –ª–µ—Ç?",
        field_name="is_under_25",
        options=["–î–∞", "–ù–µ—Ç"],
        next_question="has_experience",
    ),
    "has_experience": Question(
        text="–ï—Å—Ç—å –ª–∏ —É —Ç–µ–±—è –æ–ø—ã—Ç –∏–ª–∏ –Ω–∞–≤—ã–∫–∏ –≤ —Å—Ñ–µ—Ä–µ –±—É–¥—É—â–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞?",
        field_name="has_experience",
        options=["–î–∞", "–ù–µ—Ç"],
        next_question="official_income",
    ),
    "official_income": Question(
        text="–ö–∞–∫–æ–π —É —Ç–µ–±—è —Å–µ–π—á–∞—Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥? (–ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞ –∫–∞—Ä—Ç—É –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è)",
        field_name="official_income",
        next_question="work_plan",
    ),
    "work_plan": Question(
        text="–ü–ª–∞–Ω–∏—Ä—É–µ—à—å –ª–∏ —Ç—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–∞–Ω–∏–º–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤?",
        field_name="work_plan",
        options=["–û–¥–∏–Ω", "–ù–∞–Ω–∏–º–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"],
        next_question="micro_result",
    ),
    "micro_result": Question(
        text="–ú–æ–∂–Ω–æ –∫–∞–∫–æ–π-—Ç–æ –º–∏–∫—Ä–æ—Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–∞—Ç—å, —á—Ç–æ–±—ã –ø—Ä–æ—â–µ –±—ã–ª–æ –¥–æ–π—Ç–∏ –¥–æ –∫–æ–Ω—Ü–∞ –≤–æ–ø—Ä–æ—Å–æ–≤",
        field_name="micro_result",
        next_question="subsidy_interest",
    ),
    # Block 2: Qualification
    "subsidy_interest": Question(
        text="–ù–∞—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä—å—ë–∑–Ω–æ –≤—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —Å—É–±—Å–∏–¥–∏—é –≤ –±–ª–∏–∂–∞–π—à–∏–µ 2 –º–µ—Å—è—Ü–∞?",
        field_name="subsidy_interest",
        options=["–ì–æ—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—Ç—å", "–î—É–º–∞—é –ø–æ–∫–∞", "–ü—Ä–æ—Å—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Å—å"],
        next_question="desired_outcome",
    ),
    "desired_outcome": Question(
        text="–ß—Ç–æ –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –ø–æ–ª—É—á–∏—Ç—å?",
        field_name="desired_outcome",
        options=["–ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω", "–ì–æ—Ç–æ–≤—ã–π –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω", "–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –ø–æ–¥ –∫–ª—é—á"],
        next_question="importance_level",
    ),
    "importance_level": Question(
        text="–ù–∞—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω–æ –¥–ª—è –≤–∞—Å —É–≤–µ–ª–∏—á–∏—Ç—å —à–∞–Ω—Å—ã –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å—Ä–æ–∫–∏?",
        field_name="importance_level",
        options=["–û—á–µ–Ω—å –≤–∞–∂–Ω–æ", "–ù–µ –æ—á–µ–Ω—å", "–ü–æ–∫–∞ –Ω–µ —É–≤–µ—Ä–µ–Ω"],
        next_question="investment_readiness",
    ),
    "investment_readiness": Question(
        text="–í—ã –≥–æ—Ç–æ–≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—É–±—Å–∏–¥–∏—é –≤ 350‚Äì500 —Ç—ã—Å. —Ä—É–±?",
        field_name="investment_readiness",
        options=[
            "–î–∞, –µ—Å–ª–∏ —à–∞–Ω—Å—ã –≤—ã—Å–æ–∫–∏",
            "–ì–æ—Ç–æ–≤ —á–∞—Å—Ç–∏—á–Ω–æ",
            "–ù–µ—Ç, —Ö–æ—á—É —Ç–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ",
        ],
        is_last=True,
    ),
}


def get_final_message(is_under_25: bool) -> str:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

    Args:
        is_under_25 (bool): True –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–ª–∞–¥—à–µ 25 –ª–µ—Ç.

    Returns:
        str: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
    """
    base_message = """–û—Ç–ª–∏—á–Ω–æ!
–ü–æ —ç—Ç–∏–º –¥–∞–Ω–Ω—ã–º —É —Ç–µ–±—è –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ —à–∞–Ω—Å—ã –Ω–∞ –≤—ã–¥–∞—á—É. –° –ø–æ–¥–æ–±–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –º–æ–∏ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Å—É–±—Å–∏–¥–∏—é —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏ –≤ 90%+ —Å–ª—É—á–∞–µ–≤

üìå –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ –≤–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:"""

    if is_under_25:
        support_options = """
‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî –¥–æ 350.000 ‚ÇΩ
‚Äî –ì—Ä–∞–Ω—Ç –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π ‚Äî –¥–æ 500.000 ‚ÇΩ"""
    else:
        support_options = """
‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî –¥–æ 350.000 ‚ÇΩ"""

    final_part = """

–ß—Ç–æ –¥–∞–ª—å—à–µ? –í—ã–±–µ—Ä–∏, —Å —á–µ–≥–æ —Ö–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å:

üëá –¢–≤–æ–∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1Ô∏è‚É£ –ù–∞—á–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∑–∞—è–≤–∫–∏ ‚Äî –≤–∫–ª—é—á–∞–µ–º—Å—è –≤ —Ä–∞–±–æ—Ç—É –∏ –∏–¥–µ–º –∫ —Å—É–±—Å–∏–¥–∏–∏ –≤–º–µ—Å—Ç–µ
2Ô∏è‚É£ –ó–∞–±—Ä–∞—Ç—å –≥–∞–π–¥ ¬´–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ 500.000‚ÇΩ –æ—Ç –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞¬ª - –ø–æ–ª–µ–∑–Ω—ã–π PDF —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ª–∞–π—Ñ—Ö–∞–∫–∞–º–∏
3Ô∏è‚É£ –°–≤—è–∑–∞—Ç—å—Å—è —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º ‚Äî –æ–±—Å—É–¥–∏—Ç—å –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é –∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã
4Ô∏è‚É£ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ) ‚Äî –∫–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É"""

    return base_message + support_options + final_part
